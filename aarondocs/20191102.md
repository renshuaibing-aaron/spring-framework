1.spring mvc 代码
```java
//这个类是依赖servlet技术，监听tomcat项目，tomcat启动时会进行初始化?
public class MyWebApplicationInitializer implements WebApplicationInitializer {

    @Override
    public void onStartup(ServletContext servletCxt) {

        // Load Spring web application configuration
        AnnotationConfigWebApplicationContext ac = new AnnotationConfigWebApplicationContext();
        ac.register(AppConfig.class);
        ac.refresh();

        // Create and register the DispatcherServlet
        DispatcherServlet servlet = new DispatcherServlet(ac);
        ServletRegistration.Dynamic registration = servletCxt.addServlet("app", servlet);
        registration.setLoadOnStartup(1);
        registration.addMapping("/app/*");
    }
}

```
2.

这里是借用servlet 3.0的技术？？需要一个tomcat容器，并且需要指定tomcat为web项目，即是增加tomcat.addweb()方法，如果使用我们的例子，上面这段代码需要放在我们的main
方法里面(非web项目不能使用上面的WebApplicationInitializer代码)

3. 但是spring用是个内置的tomcat 并没有开启web项目，仍然使用的是上面的逻辑？tomcat的高级知识？？？



4. BeanPostProcessor知识
BeanPostProcessor贯穿整个bean的整个生命周期（说明在bean没有实例化之前已经开始了）

一共5个处理器在不同的地方调用了9次


第一次 执行InstantiationAwareBeanPostProcessor 的 postProcessBeforeInstantiation
在bean没有开始实例化之前执行
这里的aop利用的便是这个技术(在这个方法里面调用Java的动态代理)，需要注意的是，这个方法返回值是任意object，
如果返回值不为空，只会执行下面这个第八次方法(postProcessAfterInitialization)，其余都不再执行


	
第二次determineConstructorsFromBeanPostProcessors---SmartInstantiationAwareBeanPostProcessor--determineCandidateConstructors
	推断构造方法
第三次applyMergedBeanDefinitionPostProcessors---MergedBeanDefinitionPostProcessor---postProcessMergedBeanDefinition  
	缓存注解信息

第四次addSingletonFactory ---SmartInstantiationAwareBeanPostProcessor---getEarlyBeanReference
	得到一个体现暴露的对象----对象不是bean（在spring容器当中，并且由sping自己产生的）
第五次populateBean-----InstantiationAwareBeanPostProcessor--postProcessAfterInstantiation
	判断你的bean需不需要完成属性填充


第六次populateBean-------- InstantiationAwareBeanPostProcessor---postProcessPropertyValues
	属性填充---自动注入

第七次----BeanPostProcessor----postProcessBeforeInitialization

			
第八次 BeanPostProcessor   ---------初始化过程
                 postProcessAfterInitialization

第九次-----------destory

5. spring ioc 往容器里面添加bean定义(bd)的方式有三种
  1)register()  //context1.register(MyConfig.class);
 2)scan () 扫描方式(xml和注解)
 3)ImportBeanDefinitionRegistrar(这一个在mybatis-spring里面和factoryBean结合有大用)
  @MapperScan 接口的使用
  简单的说：mybatis和spring结合 需要把扫描的接口变成bean 给容器托管,需要用到ImportBeanDefinitionRegistrar 这种方式，并且利用动态代理和factoryBean
  生成实际需要的代码